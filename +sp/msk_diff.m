%--------------------------------------------------------------------------
%   encode = msk_diff(code)
%--------------------------------------------------------------------------
%   功能：
%   msk的差分编码
%--------------------------------------------------------------------------
%   输入:
%           code        待发送[-1 1]编码
%--------------------------------------------------------------------------
%   输出:
%           out         差分后的编码
%--------------------------------------------------------------------------
%   参考:https://blog.csdn.net/weixin_45475922/article/details/119611161
%   例子:
%   msk_diff(send_msg(10,1,'nrz'))
%--------------------------------------------------------------------------
function encode = msk_diff(code)
encode = zeros(size(code));
N = numel(code);
b0=1;
for idx=1:N
    encode(idx)=b0*code(idx);
    b0=code(idx);
end